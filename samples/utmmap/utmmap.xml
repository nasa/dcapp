<?xml version="1.0"?>
<DCAPP>
    <Variable Type="Decimal" InitialValue="0">LATITUDE</Variable>
    <Variable Type="Decimal" InitialValue="0">LONGITUDE</Variable>
    <Variable Type="Decimal" InitialValue="1">ZOOM</Variable>
    <Constant Name="ENABLE_POSITION_INDICATOR">1</Constant>
    <Variable Type="Decimal" InitialValue="1">ENABLE_MAP_TRAILS</Variable>

    <Constant Name="LonMin">-60</Constant>
    <Constant Name="LonMax">60</Constant>
    <Constant Name="LatMin">-30</Constant>
    <Constant Name="LatMax">30</Constant>

    <Constant Name="BgColor">0 0 0</Constant>

    <Variable Type="Integer">ZoomSelected</Variable>
    <Variable Type="Decimal" InitialValue="1">ZoomSlider</Variable>
    <Variable Type="Integer">LonSelected</Variable>
    <Variable Type="Decimal" InitialValue="60">LonSlider</Variable>
    <Variable Type="Integer">LatSelected</Variable>
    <Variable Type="Decimal" InitialValue="30">LatSlider</Variable>

    <Defaults>
        <String ForceMono="Numeric" HorizontalAlign="Center" VerticalAlign="Middle" Size="100" Color="1 1 1" LineColor="0 0 0"/>
        <Button Type="Momentary" Width="2000" Height="100" HorizontalAlign="Center" VerticalAlign="Middle"/>
        <Rectangle LineColor=".5 .5 .5" HorizontalAlign="Center" VerticalAlign="Middle" LineWidth="2.0" Color = ".5 .5 .5"/>
        <Container X="1250" Width="1200" Height="5" HorizontalAlign="Center" VerticalAlign="Middle"/>
    </Defaults>

    <Window X="30" Y="30" Width="800" Height="600" ForceUpdate="0.01" ActiveDisplay="1">
        <Panel DisplayIndex="1" BackgroundColor="#BgColor" VirtualWidth="2500" VirtualHeight="1875">
            <UTMMap 
                Latitude="@LATITUDE" Longitude="@LONGITUDE" Zoom="@ZOOM" TrailWidth="15" TrailColor=".25 .25 .25 .7"
                EnableIcon="#ENABLE_POSITION_INDICATOR" EnableTrail="@ENABLE_MAP_TRAILS"
                LonMin="#LonMin" LonMax="#LonMax" LatMin="#LatMin" LatMax="#LatMax"
                IconFile="images/arrow.bmp" IconWidth="100" IconHeight="100" IconRotationOffset="180"
                X="1250" Y="1250" Width="2500" Height="1250" HorizontalAlign="Center" VerticalAlign="Middle"
            >images/moon.bmp</UTMMap>

            <!-- ZOOM -->
            <String X="100" Y="150" HorizontalAlign="Left">Zoom:</String>
            <String X="2400" Y="150" HorizontalAlign="Right">@ZOOM(%.1f)</String>

            <Container Y="150" VirtualWidth="10">
                <Rectangle FillColor=".5 .5 .5"/>
                <Button Type="Momentary" X="@ZoomSlider" Width="10" Height="20" Variable="@ZoomSelected"/>
                <If Value="@ZoomSelected">
                    <True>
                        <MouseMotion XVariable="@ZoomSlider"/>
                        <If Value1="@ZoomSlider" Operator="gt" Value2="10">
                            <Set Variable="@ZoomSlider">10</Set>
                        </If>
                        <If Value1="@ZoomSlider" Operator="lt" Value2="1">
                            <Set Variable="@ZoomSlider">1</Set>
                        </If>
                        <Rectangle X="@ZoomSlider" Width="1" Height="20" FillColor="0.5 1 0.5"/>
                        <Set Variable="@ZOOM">@ZoomSlider</Set>
                    </True>
                    <False>
                        <If Value1="@ZoomSlider" Operator="gt" Value2="10">
                            <Set Variable="@ZoomSlider">10</Set>
                        </If>
                        <If Value1="@ZoomSlider" Operator="lt" Value2="1">
                            <Set Variable="@ZoomSlider">1</Set>
                        </If>
                        <Rectangle X="@ZoomSlider" Width="1" Height="20" FillColor="0.5 0.5 0.5"/>
                    </False>
                </If>
            </Container>

            <!-- LONGITUDE -->
            <String X="100" Y="350" HorizontalAlign="Left">Longitude:</String>
            <String X="2400" Y="350" HorizontalAlign="Right">@LONGITUDE(%.1f)</String>

            <Container Y="350" VirtualWidth="120">
                <Rectangle FillColor="0.25 0.25 0.25"/>
                <Button Type="Momentary" X="@LonSlider" Width="12" Height="20" Variable="@LonSelected"/>
                <If Value="@LonSelected">
                    <True>
                        <MouseMotion XVariable="@LonSlider"/>
                        <If Value1="@LonSlider" Operator="gt" Value2="120">
                            <Set Variable="@LonSlider">120</Set>
                        </If>
                        <If Value1="@LonSlider" Operator="lt" Value2="0">
                            <Set Variable="@LonSlider">0</Set>
                        </If>
                        <Rectangle X="@LonSlider" Width="12" Height="20" FillColor="0.5 1 0.5"/>
                        <Set Variable="@LONGITUDE">@LonSlider</Set>
                        <Set Variable="@LONGITUDE" Operator="-=">60</Set>
                    </True>
                    <False>
                        <If Value1="@LonSlider" Operator="gt" Value2="120">
                            <Set Variable="@LonSlider">120</Set>
                        </If>
                        <If Value1="@LonSlider" Operator="lt" Value2="0">
                            <Set Variable="@LonSlider">0</Set>
                        </If>
                        <Rectangle X="@LonSlider" Width="12" Height="20" FillColor="0.5 0.5 0.5"/>
                    </False>
                </If>
            </Container>

            <!-- LATITUDE -->
            <String X="100" Y="550" HorizontalAlign="Left">Latitude:</String>
            <String X="2400" Y="550" HorizontalAlign="Right">@LATITUDE(%.1f)</String>

            <Container Y="550" VirtualWidth="60">
                <Rectangle FillColor="0.25 0.25 0.25"/>
                <Button Type="Momentary" X="@LatSlider" Width="6" Height="20" Variable="@LatSelected"/>
                <If Value="@LatSelected">
                    <True>
                        <MouseMotion XVariable="@LatSlider"/>
                        <If Value1="@LatSlider" Operator="gt" Value2="60">
                            <Set Variable="@LatSlider">60</Set>
                        </If>
                        <If Value1="@LatSlider" Operator="lt" Value2="0">
                            <Set Variable="@LatSlider">0</Set>
                        </If>
                        <Rectangle X="@LatSlider" Width="6" Height="20" FillColor="0.5 1 0.5"/>
                        <Set Variable="@LATITUDE">@LatSlider</Set>
                        <Set Variable="@LATITUDE" Operator="-=">30</Set>
                    </True>
                    <False>
                        <If Value1="@LatSlider" Operator="gt" Value2="60">
                            <Set Variable="@LatSlider">60</Set>
                        </If>
                        <If Value1="@LatSlider" Operator="lt" Value2="0">
                            <Set Variable="@LatSlider">0</Set>
                        </If>
                        <Rectangle X="@LatSlider" Width="6" Height="20" FillColor="0.5 0.5 0.5"/>
                    </False>
                </If>
            </Container>
        </Panel>

        
    </Window>
</DCAPP>
