<?xml version="1.0"?>
<DCAPP>
    <Constant Name="AngleDelta">2</Constant>

    <Variable Type="Float">RollAngle</Variable>
    <Variable Type="Float">PitchAngle</Variable>
    <Variable Type="Float">YawAngle</Variable>

    <Defaults>
        <String Font="fonts/Calibri.ttf" ForceMono="Numeric" HorizontalAlign="Center" VerticalAlign="Middle" Size="20"/>
        <Button Type="Momentary" Width="50" Height="25" HorizontalAlign="Center" VerticalAlign="Middle"/>
        <Rectangle LineColor="1 1 1"/>
    </Defaults>

    <Window X="50" Y="50" Width="500" Height="600" ActiveDisplay="0">
        <Panel DisplayIndex="0" BackgroundColor="0 0 0" VirtualWidth="500" VirtualHeight="600">
            <ADI X="250" Y="350" Width="420" Height="420" HorizontalAlign="Center" VerticalAlign="Middle"
                 BallRadius="200" ChevronWidth="32" ChevronHeight="32"
                 CoverFile="adi_simple_bkgd.tga" BallFile="adi_simple_ball.tga"
                 Pitch="@PitchAngle" Yaw="@YawAngle" Roll="@RollAngle"/>

            <Button X="100" Y="110">
                <OnPress>
                    <Set Variable="@RollAngle" Operator="+=">#AngleDelta</Set>
                </OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0">+</String>
            </Button>
            <Button X="100" Y="50">
                <OnPress>
                    <Set Variable="@RollAngle" Operator="-=">#AngleDelta</Set>
                </OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0">-</String>
            </Button>
            <Button X="100" Y="20">
                <OnPress><Set Variable="@RollAngle">0</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0" Size="16">Reset</String>
            </Button>
            <If Value1="@RollAngle" Operator="gt" Value2="180">
                <Set Variable="@RollAngle" Operator="-=">360</Set>
            </If>
            <If Value1="@RollAngle" Operator="le" Value2="-180">
                <Set Variable="@RollAngle" Operator="+=">360</Set>
            </If>
            <String X="100" Y="80" Color="1 1 1">Roll: @RollAngle</String>

            <Button X="250" Y="110">
                <OnPress><Set Variable="@PitchAngle" Operator="+=">#AngleDelta</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0">+</String>
            </Button>
            <Button X="250" Y="50">
                <OnPress><Set Variable="@PitchAngle" Operator="-=">#AngleDelta</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0">-</String>
            </Button>
            <Button X="250" Y="20">
                <OnPress><Set Variable="@PitchAngle">0</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0" Size="16">Reset</String>
            </Button>
            <If Value1="@PitchAngle" Operator="gt" Value2="180">
                <Set Variable="@PitchAngle" Operator="-=">360</Set>
            </If>
            <If Value1="@PitchAngle" Operator="le" Value2="-180">
                <Set Variable="@PitchAngle" Operator="+=">360</Set>
            </If>
            <String X="250" Y="80" Color="1 1 1">Pitch: @PitchAngle</String>

            <Button X="400" Y="110">
                <OnPress><Set Variable="@YawAngle" Operator="+=">#AngleDelta</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0">+</String>
            </Button>
            <Button X="400" Y="50">
                <OnPress><Set Variable="@YawAngle" Operator="-=">#AngleDelta</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0">-</String>
            </Button>
            <Button X="400" Y="20">
                <OnPress><Set Variable="@YawAngle">0</Set></OnPress>
                <On><Rectangle FillColor="0.5 1 0.5"/></On>
                <Off><Rectangle FillColor="0.5 0.5 0.5"/></Off>
                <String Color="0 0 0" Size="16">Reset</String>
            </Button>
            <If Value1="@YawAngle" Operator="gt" Value2="180">
                <Set Variable="@YawAngle" Operator="-=">360</Set>
            </If>
            <If Value1="@YawAngle" Operator="le" Value2="-180">
                <Set Variable="@YawAngle" Operator="+=">360</Set>
            </If>
            <String X="400" Y="80" Color="1 1 1">Yaw: @YawAngle</String>
        </Panel>
    </Window>
</DCAPP>
